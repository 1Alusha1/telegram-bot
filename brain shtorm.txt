переписать метод drowButtons , докинуть ему в параметры контекст и на выходе возвращать не массив
а уже сформированые кнопочки через маркап и вынести в отдельный файл

наверное создать, либо отдельный класс под слушатели, либо вынести все в отдельные функции в папочку hears
по идее шо то, шо то буде похоже на дерьмо, но более читабельное и позволит разгрузить индексный файл. Но это как-то потом,ближе к концу

если появиться функция писать в конкретную группу, то от обчныго обработчика на текст придеться отказаться, либо придумать велосипед - 
одно из двух

рудует еще то, что больше не придеться вписывать длинные команды, делаем так сказать нормальное юикс


нужно ведь где-то хранить названия групп препода, это либо создавать новое поле в бд, либо искать где можно вытащить название 
экшина кнопки, то делать все на циклах чет не хочеться.
главную группу можно вытаскивать с модели админа, но это справедливо только для первой и второй группы.
так как отдельные группы есть у только Насти и второй Насти, нужно будет переделать обработку текста..
для студента оставить все так же, для админов с под групп вывести сообщение шоб писали через кнопку
Настям позволять писать сообщения в группы.

и все же, как для админов под групп сдлать красиво? еще вопрос,у существующих адмиинов под групп появяться собственные группы или 
у них будут еще несколько своих, если второй случай
то с обработкой текста нужно будет велосипедить, а делать так что бы админы первой второй группы тыкали много кнопок - не хочеться


если добавлять новые поля в бд, то нужно будет перелопатить все что уже существует, а этого тоже делать не хочеться 
Проблемы архитектуры..

под группы из разных групп

а если идти от обратного, зачем сейчас пытаться отправлять собщения в группы которых нет?
в любом случае все можно будет подогнать под общий вид.
Кароч, не углуюбляясь в детали реализацаии 
у нас уже есть админ с под группой, просто написав сообщение в бота он отправляет сообщение
если нужно будет сделать ему под группу, я просто сделаю ему запись в бд 
и потом кнопочками буду слать сообщение в нужную группу, либо главную, либо дочернюю
со врал, детали реализацаии будут 
метод drowButtons не придется дописывать, так как я могу передать спредом главную группу и дочерние и они по красоте отрисуються
все дочерних группы будут храниться в масиве овн груп *Работает)*